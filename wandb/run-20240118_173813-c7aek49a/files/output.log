01/18/2024 17:38:23 - INFO - __main__ - ***** Running training *****
01/18/2024 17:38:23 - INFO - __main__ -   Num examples = 11
01/18/2024 17:38:23 - INFO - __main__ -   Num Epochs = 10
01/18/2024 17:38:23 - INFO - __main__ -   Instantaneous batch size per device = 4
01/18/2024 17:38:23 - INFO - __main__ -   Total train batch size (w. parallel, distributed & accumulation) = 16
01/18/2024 17:38:23 - INFO - __main__ -   Gradient Accumulation steps = 4
01/18/2024 17:38:23 - INFO - __main__ -   Total optimization steps = 10
Steps:   0%|                                                                                                                                                      | 0/10 [00:00<?, ?it/s]C:\Users\30661\.conda\envs\torchgpu\lib\site-packages\diffusers\configuration_utils.py:139: FutureWarning: Accessing config attribute `num_train_timesteps` directly via 'DDPMScheduler' object attribute is deprecated. Please access 'num_train_timesteps' over 'DDPMScheduler's config object instead, e.g. 'scheduler.config.num_train_timesteps'.
  deprecate("direct config name access", "1.0.0", deprecation_message, standard_warn=False)
Steps:   0%|                                                                                                                            | 0/10 [00:04<?, ?it/s, lr=5e-6, step_loss=0.072]01/18/2024 17:38:27 - INFO - __main__ - Running validation...
 Generating 1 images with prompt: Convert the text in the picture to running script style..
{'image_encoder'} was not found in config. Values will be initialized to default values.
                                                                                                                                                                                         {'rescale_betas_zero_snr', 'timestep_spacing'} was not found in config. Values will be initialized to default values.
Loaded scheduler as EulerAncestralDiscreteScheduler from `scheduler` subfolder of timbrooks/instruct-pix2pix.                                                      | 0/7 [00:00<?, ?it/s]
Loaded text_encoder as CLIPTextModel from `text_encoder` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded feature_extractor as CLIPImageProcessor from `feature_extractor` subfolder of timbrooks/instruct-pix2pix.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:00,  7.47it/s]
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loaded safety_checker as StableDiffusionSafetyChecker from `safety_checker` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:01<00:00,  3.75it/s]
Loaded vae as AutoencoderKL from `vae` subfolder of timbrooks/instruct-pix2pix.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:01<00:00,  4.82it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:01<00:00,  4.85it/s]
Steps:   0%|                                                                                                                           | 0/10 [00:15<?, ?it/s, lr=5e-6, step_loss=0.0808]01/18/2024 17:38:39 - INFO - __main__ - Running validation...
 Generating 1 images with prompt: Convert the text in the picture to running script style..
{'image_encoder'} was not found in config. Values will be initialized to default values.
                                                                                                                                                                                         {'rescale_betas_zero_snr', 'timestep_spacing'} was not found in config. Values will be initialized to default values.
Loaded scheduler as EulerAncestralDiscreteScheduler from `scheduler` subfolder of timbrooks/instruct-pix2pix.                                                      | 0/7 [00:00<?, ?it/s]
Loaded text_encoder as CLIPTextModel from `text_encoder` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded feature_extractor as CLIPImageProcessor from `feature_extractor` subfolder of timbrooks/instruct-pix2pix.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:00,  7.86it/s]
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loaded safety_checker as StableDiffusionSafetyChecker from `safety_checker` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:01<00:00,  4.08it/s]
Loaded vae as AutoencoderKL from `vae` subfolder of timbrooks/instruct-pix2pix.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:01<00:00,  5.20it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:01<00:00,  5.25it/s]
C:\Users\30661\.conda\envs\torchgpu\lib\site-packages\transformers\deepspeed.py:23: FutureWarning: transformers.deepspeed module is deprecated and will be removed in a future version. Please import deepspeed modules directly from transformers.integrations
  warnings.warn(
Steps:  10%|███████████▋                                                                                                         | 1/10 [00:39<05:49, 38.87s/it, lr=5e-6, step_loss=0.12]01/18/2024 17:39:03 - INFO - __main__ - Running validation...
 Generating 1 images with prompt: Convert the text in the picture to running script style..
{'image_encoder'} was not found in config. Values will be initialized to default values.
                                                                                                                                                                                         {'rescale_betas_zero_snr', 'timestep_spacing'} was not found in config. Values will be initialized to default values.
Loaded scheduler as EulerAncestralDiscreteScheduler from `scheduler` subfolder of timbrooks/instruct-pix2pix.                                                      | 0/7 [00:00<?, ?it/s]
Loaded text_encoder as CLIPTextModel from `text_encoder` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded feature_extractor as CLIPImageProcessor from `feature_extractor` subfolder of timbrooks/instruct-pix2pix.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:01,  3.33it/s]
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loaded safety_checker as StableDiffusionSafetyChecker from `safety_checker` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:02<00:01,  1.90it/s]
[34m[1mwandb[39m[22m: [33mWARNING[39m Step only supports monotonically increasing values, use define_metric to set a custom x axis. For details see: https://wandb.me/define-metric
[34m[1mwandb[39m[22m: [33mWARNING[39m (User provided step: 1 is less than current step: 6. Dropping entry: {'train_loss': 0.06819732300937176, '_timestamp': 1705570742.7674513}).
Loaded vae as AutoencoderKL from `vae` subfolder of timbrooks/instruct-pix2pix.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:02<00:00,  2.37it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:02<00:00,  2.40it/s]
Steps:  10%|███████████▌                                                                                                       | 1/10 [01:25<05:49, 38.87s/it, lr=5e-6, step_loss=0.0546]01/18/2024 17:39:49 - INFO - __main__ - Running validation...
 Generating 1 images with prompt: Convert the text in the picture to running script style..
{'image_encoder'} was not found in config. Values will be initialized to default values.
                                                                                                                                                                                         {'rescale_betas_zero_snr', 'timestep_spacing'} was not found in config. Values will be initialized to default values.
Loaded scheduler as EulerAncestralDiscreteScheduler from `scheduler` subfolder of timbrooks/instruct-pix2pix.                                                      | 0/7 [00:00<?, ?it/s]
Loaded text_encoder as CLIPTextModel from `text_encoder` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded feature_extractor as CLIPImageProcessor from `feature_extractor` subfolder of timbrooks/instruct-pix2pix.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:00,  4.40it/s]
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loaded safety_checker as StableDiffusionSafetyChecker from `safety_checker` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:02<00:00,  2.00it/s]
Loaded vae as AutoencoderKL from `vae` subfolder of timbrooks/instruct-pix2pix.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:02<00:00,  2.54it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:02<00:00,  2.52it/s]
Steps:  10%|███████████▌                                                                                                       | 1/10 [02:16<05:49, 38.87s/it, lr=5e-6, step_loss=0.0476]01/18/2024 17:40:40 - INFO - __main__ - Running validation...
 Generating 1 images with prompt: Convert the text in the picture to running script style..
{'image_encoder'} was not found in config. Values will be initialized to default values.
                                                                                                                                                                                         {'rescale_betas_zero_snr', 'timestep_spacing'} was not found in config. Values will be initialized to default values.
Loaded scheduler as EulerAncestralDiscreteScheduler from `scheduler` subfolder of timbrooks/instruct-pix2pix.                                                      | 0/7 [00:00<?, ?it/s]
Loaded text_encoder as CLIPTextModel from `text_encoder` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded feature_extractor as CLIPImageProcessor from `feature_extractor` subfolder of timbrooks/instruct-pix2pix.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:01,  3.91it/s]
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loaded safety_checker as StableDiffusionSafetyChecker from `safety_checker` subfolder of timbrooks/instruct-pix2pix.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:02<00:01,  1.77it/s]
Loaded vae as AutoencoderKL from `vae` subfolder of timbrooks/instruct-pix2pix.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:03<00:00,  2.22it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:03<00:00,  2.19it/s]

Steps:  20%|██████████████████████▊                                                                                           | 2/10 [03:04<13:32, 101.52s/it, lr=5e-6, step_loss=0.0705]01/18/2024 17:41:28 - INFO - __main__ - Running validation...
 Generating 1 images with prompt: Convert the text in the picture to running script style..
{'image_encoder'} was not found in config. Values will be initialized to default values.
                                                                                                                                                                                         {'rescale_betas_zero_snr', 'timestep_spacing'} was not found in config. Values will be initialized to default values.
Loaded scheduler as EulerAncestralDiscreteScheduler from `scheduler` subfolder of timbrooks/instruct-pix2pix.                                                      | 0/7 [00:00<?, ?it/s]
Loaded text_encoder as CLIPTextModel from `text_encoder` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded feature_extractor as CLIPImageProcessor from `feature_extractor` subfolder of timbrooks/instruct-pix2pix.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:01,  3.33it/s]
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loaded safety_checker as StableDiffusionSafetyChecker from `safety_checker` subfolder of timbrooks/instruct-pix2pix.
                                                                                                                                                                                         Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:02<00:01,  1.79it/s]
Loaded vae as AutoencoderKL from `vae` subfolder of timbrooks/instruct-pix2pix.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:03<00:00,  2.27it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:03<00:00,  2.30it/s]
[34m[1mwandb[39m[22m: [33mWARNING[39m (User provided step: 2 is less than current step: 15. Dropping entry: {'train_loss': 0.04317192640155554, '_timestamp': 1705570888.1354377}). 7/7 [00:03<00:00,  2.30it/s]
[34m[1mwandb[39m[22m: [33mWARNING[39m (User provided step: 2 is less than current step: 15. Dropping entry: {'train_loss': 0.04317192640155554, '_timestamp': 1705570888.1354377}). 7/7 [00:03<00:00,  2.30it/s]
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:01,  3.73it/s]{'rescale_betas_zero_snr', 'timestep_spacing'} was not found in config. Values will be initialized to default values.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.                   | 3/7 [00:00<00:01,  3.73it/s]Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.ialized to default values.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:02<00:01,  1.68it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:03<00:00,  2.08it/s]Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.ialized to default values.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:03<00:00,  2.08it/s]Loaded tokenizer as CLIPTokenizer from `tokenizer` subfolder of timbrooks/instruct-pix2pix.ialized to default values.
Steps:  20%|███████████████████████                                                                                            | 2/10 [04:32<13:32, 101.52s/it, lr=5e-6, step_loss=0.042]01/18/2024 17:42:56 - INFO - __main__ - Running validation... f timbrooks/instruct-pix2pix.ialized to default values.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.                       | 0/7 [00:00<?, ?it/s]01/18/2024 17:42:56 - INFO - __main__ - Running validation... f timbrooks/instruct-pix2pix.ialized to default values.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:02<00:01,  1.93it/s]01/18/2024 17:42:56 - INFO - __main__ - Running validation... f timbrooks/instruct-pix2pix.ialized to default values.
Loaded vae as AutoencoderKL from `vae` subfolder of timbrooks/instruct-pix2pix.
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:02<00:00,  2.42it/s]
Loading pipeline components...: 100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:02<00:00,  2.39it/s]
{'force_upcast', 'scaling_factor'} was not found in config. Values will be initialized to default values.████████████████▎                                 | 5/7 [00:02<00:01,  1.93it/s]01/18/2024 17:42:56 - INFO - __main__ - Running validation... f timbrooks/instruct-pix2pix.ialized to default values.
validate2 1
Steps:  30%|██████████████████████████████████▏                                                                               | 3/10 [05:17<13:28, 115.51s/it, lr=5e-6, step_loss=0.0685]01/18/2024 17:43:40 - INFO - __main__ - Running validation... f timbrooks/instruct-pix2pix.ialized to default values.
    self.temp_stored_params = [param.detach().cpu().clone() for param in parameters]                                          | 3/10 [05:17<13:28, 115.51s/it, lr=5e-6, step_loss=0.0685]01/18/2024 17:43:40 - INFO - __main__ - Running validation... f timbrooks/instruct-pix2pix.ialized to default values.
  File "C:\Users\30661\.conda\envs\torchgpu\lib\site-packages\diffusers\training_utils.py", line 363, in <listcomp>
    self.temp_stored_params = [param.detach().cpu().clone() for param in parameters]
KeyboardInterrupt
    self.temp_stored_params = [param.detach().cpu().clone() for param in parameters]                                          | 3/10 [05:17<13:28, 115.51s/it, lr=5e-6, step_loss=0.0685]01/18/2024 17:43:40 - INFO - __main__ - Running validation... f timbrooks/instruct-pix2pix.ialized to default values.